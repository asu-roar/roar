<launch>

  <!-- args -->
  <arg name="image_view" default="false" />
  <arg name="rear_cam" default="rear_cam" />
  <arg name="front_cam" default="front_cam" />

  <!-- cam nodes -->
  <node name="$(arg rear_cam)" pkg="usb_cam" type="usb_cam_node" output="screen" >
    <rosparam command="load" file="$(find usb_cam)/config/usb_cam.yml"/>
    <param name="video_device" value="/dev/video0" />
    <param name="camera_name" value="/$(arg rear_cam)" />
    <param name="camera_frame_id" value="$(arg rear_cam)_frame" />
  </node>

  <node name="$(arg front_cam)" pkg="usb_cam" type="usb_cam_node" output="screen" >
    <rosparam command="load" file="$(find usb_cam)/config/usb_cam.yml"/>
    <param name="video_device" value="/dev/video2" />
    <param name="camera_name" value="/$(arg front_cam)" />
    <param name="camera_frame_id" value="$(arg front_cam)_frame" />
  </node>

  <!-- cam output nodes -->
  <node if="$(arg image_view)" name="$(arg rear_cam)_image_view" pkg="image_view" type="image_view" respawn="false" output="screen" >
    <remap from="image" to="$(arg rear_cam)/image_raw"/>
    <param name="autosize" value="true" />
  </node>

  <node if="$(arg image_view)" name="$(arg front_cam)image_view" pkg="image_view" type="image_view" respawn="false" output="screen" >
    <remap from="image" to="$(arg front_cam)/image_raw"/>
    <param name="autosize" value="true" />
  </node>

</launch>